# Real-time Market Data Monitor

è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é«˜æ€§èƒ½å®æ—¶å¸‚åœºæ•°æ®ç›‘æ§ç³»ç»Ÿã€‚é¡¹ç›®é‡‡ç”¨ Monorepo æ¶æ„ï¼Œåç«¯ä½¿ç”¨ Rust é‡æ„ä»¥è¿½æ±‚æè‡´æ€§èƒ½ï¼Œå‰ç«¯ä½¿ç”¨ SolidJS æ„å»ºå“åº”å¼ç•Œé¢ï¼Œå¹¶é…å¤‡äº†åŸºäº Playwright çš„æ•°æ®é‡‡é›†å™¨ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

*   **é«˜æ€§èƒ½åç«¯**: åŸºäº Rust (Axum + Tokio) æ„å»ºï¼Œåˆ©ç”¨å¼‚æ­¥ I/O å’Œ WebSocket (Socket.IO) å®ç°æ¯«ç§’çº§æ•°æ®æ¨é€ã€‚
*   **å“åº”å¼å‰ç«¯**: ä½¿ç”¨ SolidJS + Vite æ„å»ºï¼Œæ— è™šæ‹Ÿ DOM æ¶æ„ï¼Œç¡®ä¿åœ¨é«˜é¢‘æ•°æ®æ›´æ–°ä¸‹çš„æµç•…æ¸²æŸ“ã€‚
*   **æ™ºèƒ½æ•°æ®é‡‡é›†**: ä½¿ç”¨ Playwright + æµè§ˆå™¨æŒ‡çº¹ä¼ªè£…ï¼Œé€šè¿‡æ³¨å…¥è„šæœ¬é«˜æ•ˆæ•è·åŠ¨æ€ç½‘é¡µæ•°æ®å˜æ›´ã€‚
*   **å›¾å½¢åŒ–æ§åˆ¶å°**: å†…ç½®åŸºäº PySide6 çš„ GUI æ§åˆ¶é¢æ¿ (`run_gui.py`)ï¼Œæ–¹ä¾¿ä¸€é”®ç®¡ç†å¤šè¿›ç¨‹ä»»åŠ¡ã€‚
*   **å›¾ç‰‡ä»£ç†ä¸ç¼“å­˜**: åç«¯å†…ç½®å›¾ç‰‡ä»£ç†åŠæŒä¹…åŒ–ç£ç›˜ç¼“å­˜æœºåˆ¶ï¼Œè§£å†³è·¨åŸŸåŠè®¿é—®é™åˆ¶é—®é¢˜ã€‚

## ğŸ— æŠ€æœ¯æ ˆ

### Core
*   **Package Manager**: pnpm (Workspaces)
*   **GUI Controller**: Python (PySide6)

### Packages

| Package | Role | Tech Stack |
| :--- | :--- | :--- |
| **`packages/backend`** | æ ¸å¿ƒæœåŠ¡ | **Rust**, Axum 0.8, Socketioxide, Tokio, Sqlx (SQLite), Reqwest |
| **`packages/frontend`** | ç”¨æˆ·ç•Œé¢ | **SolidJS**, Vite, TypeScript, Lightweight-charts, Socket.io-client |
| **`packages/extractor`** | æ•°æ®é‡‡é›† | **Node.js**, Playwright-Extra, TypeScript |
| **`packages/shared-types`** | ç±»å‹å…±äº« | TypeScript Interface definitions |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
*   [pnpm](https://pnpm.io/)
*   [Rust Toolchain](https://www.rust-lang.org/)
*   [Python 3.10+](https://www.python.org/) (ç”¨äº GUI)
*   [Node.js 20+](https://nodejs.org/)

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¯åŠ¨é¡¹ç›®

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ GUI æ§åˆ¶é¢æ¿ (æ¨è)

é¡¹ç›®è‡ªå¸¦ä¸€ä¸ª Python ç¼–å†™çš„å›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹æ—¥å¿—å’Œæ§åˆ¶å„ä¸ªæœåŠ¡çš„å¯åœã€‚

```bash
# éœ€è¦å®‰è£… PySide6
pip install PySide6

# å¯åŠ¨æ§åˆ¶é¢æ¿
python run_gui.py
```
åœ¨ GUI ä¸­ï¼Œä½ å¯ä»¥ç‚¹å‡»æŒ‰é’®åˆ†åˆ«å¯åŠ¨ï¼š
*   `dev:backend`: å¯åŠ¨ Rust åç«¯
*   `dev:frontend`: å¯åŠ¨å‰ç«¯é¡µé¢ (http://localhost:5173)
*   `start:hotlist` / `start:meme`: å¯åŠ¨ä¸åŒçš„æ•°æ®é‡‡é›†è„šæœ¬

#### æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œå¯åŠ¨

å¦‚æœä½ æ›´å–œæ¬¢å‘½ä»¤è¡Œï¼š

```bash
# åŒæ—¶å¯åŠ¨åç«¯å’Œå‰ç«¯
pnpm dev

# æˆ–è€…å…¨é‡å¯åŠ¨ (åç«¯ + å‰ç«¯ + é‡‡é›†å™¨)
pnpm dev:full

# ä»…æ„å»º
pnpm build
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ backend/        # Rust åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ frontend/       # SolidJS å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ extractor/      # Playwright æ•°æ®é‡‡é›†è„šæœ¬
â”‚   â””â”€â”€ shared-types/   # å‰åç«¯å…±äº«çš„ TS ç±»å‹å®šä¹‰
â”œâ”€â”€ run_gui.py          # Python GUI ä»»åŠ¡ç®¡ç†å™¨
â”œâ”€â”€ package.json        # é¡¹ç›®æ ¹é…ç½®
â””â”€â”€ pnpm-workspace.yaml # Monorepo å·¥ä½œåŒºé…ç½®
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### Backend (Rust)
ä½œä¸ºæ•°æ®ä¸­ç»§ç«™ï¼Œå®ƒç›‘å¬æ¥è‡ª `extractor` çš„æ•°æ®æ›´æ–°ï¼Œå¹¶é€šè¿‡ Socket.IO å¹¿æ’­ç»™æ‰€æœ‰è¿æ¥çš„ `frontend` å®¢æˆ·ç«¯ã€‚åŒæ—¶æä¾› HTTP API (`/desired-fields`) ä¾›é…ç½®æŸ¥è¯¢ï¼Œä»¥åŠ `/image-proxy` ç”¨äºå›¾ç‰‡èµ„æºçš„ä»£ç†å’Œç¼“å­˜ã€‚æ”¯æŒ `cargo-watch` çƒ­é‡è½½ã€‚

### Extractor (Node.js/Playwright)
ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹è¿è¡Œã€‚å®ƒå¯åŠ¨ä¸€ä¸ªå¸¦éšåŒ¿æ’ä»¶çš„æµè§ˆå™¨å®ä¾‹ï¼Œæ³¨å…¥è„šæœ¬ä»¥ ~1000ms çš„é¢‘ç‡æ£€æµ‹ç›®æ ‡ç½‘é¡µçš„æ•°æ®å˜åŒ–ï¼Œå¹¶é€šè¿‡ Socket.IO å°†å¢é‡æ•°æ®å‘é€ç»™åç«¯ã€‚

### Frontend (SolidJS)
è¿æ¥åç«¯çš„ Socket.IO æœåŠ¡ï¼Œæ¥æ”¶å®æ—¶æ•°æ®æµå¹¶ä½¿ç”¨è¡¨æ ¼æˆ–å›¾è¡¨è¿›è¡Œæ¸²æŸ“ã€‚å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åŒæ­¥åç«¯çš„ç›‘æ§å­—æ®µé…ç½®ã€‚