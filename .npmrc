# --- Node.js 版本锁定 ---
# 强制 pnpm 使用指定的 Node 版本，如果本地没有会自动下载
use-node-version=24.12.0

# --- 依赖下载优化 ---
# 使用淘宝/阿里云镜像源，解决云服务器境外连接不稳定的问题
registry=https://registry.npmmirror.com/

# 如果项目涉及到某些需要编译的 C++ 插件 (Node-GYP)，加快下载二进制文件的速度
canvas_binary_host_mirror=https://npmmirror.com/mirrors/canvas/
sharp_binary_host_mirror=https://npmmirror.com/mirrors/sharp/

# --- pnpm 核心行为配置 ---
# 即使有多个版本 Node，也强制校验当前 Node 版本是否符合 package.json 的 engines 声明
engine-strict=true

# 让 pnpm 自动在 node_modules 里创建平铺结构，提高某些老旧包的兼容性 (虽然新项目不一定需要，但加上更稳)
# public-hoist-pattern[]=*

# 设置 pnpm 的缓存路径，如果你服务器磁盘空间有限，可以根据需要调整
# store-dir=~/.pnpm-store

# --- 自动下载 Node.js 的架构配置 (可选) ---
# pnpm 通常能自动识别系统架构，但在某些复杂的 Docker 环境下可以显式指定
# node-mirror:release=https://npmmirror.com/mirrors/node/